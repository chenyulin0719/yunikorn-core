running unit tests
"go" clean -testcache
"go" test ./... -race -tags deadlock -coverprofile=build/coverage.txt -covermode=atomic
?   	github.com/apache/yunikorn-core/cmd/queueconfigchecker	[no test files]
?   	github.com/apache/yunikorn-core/cmd/schedulerclient	[no test files]
?   	github.com/apache/yunikorn-core/cmd/simplescheduler	[no test files]
?   	github.com/apache/yunikorn-core/pkg/examples	[no test files]
?   	github.com/apache/yunikorn-core/pkg/handler	[no test files]
?   	github.com/apache/yunikorn-core/pkg/mock	[no test files]
?   	github.com/apache/yunikorn-core/pkg/rmproxy	[no test files]
?   	github.com/apache/yunikorn-core/pkg/rmproxy/rmevent	[no test files]
?   	github.com/apache/yunikorn-core/pkg/scheduler/placement/types	[no test files]
?   	github.com/apache/yunikorn-core/pkg/webservice/dao	[no test files]
ok  	github.com/apache/yunikorn-core/pkg/common	1.019s	coverage: 66.9% of statements
ok  	github.com/apache/yunikorn-core/pkg/common/configs	1.079s	coverage: 95.5% of statements
ok  	github.com/apache/yunikorn-core/pkg/common/resources	1.028s	coverage: 96.0% of statements
ok  	github.com/apache/yunikorn-core/pkg/common/security	1.019s	coverage: 80.7% of statements
ok  	github.com/apache/yunikorn-core/pkg/entrypoint	1.026s	coverage: 61.5% of statements
ok  	github.com/apache/yunikorn-core/pkg/events	1.049s	coverage: 97.2% of statements
ok  	github.com/apache/yunikorn-core/pkg/log	6.104s	coverage: 76.3% of statements
ok  	github.com/apache/yunikorn-core/pkg/metrics	4.103s	coverage: 54.2% of statements
ok  	github.com/apache/yunikorn-core/pkg/metrics/history	1.013s	coverage: 100.0% of statements
ok  	github.com/apache/yunikorn-core/pkg/plugins	1.014s	coverage: 63.2% of statements
ok  	github.com/apache/yunikorn-core/pkg/scheduler	5.234s	coverage: 67.3% of statements
ok  	github.com/apache/yunikorn-core/pkg/scheduler/objects	2.374s	coverage: 83.6% of statements
ok  	github.com/apache/yunikorn-core/pkg/scheduler/objects/template	1.016s	coverage: 81.1% of statements
ok  	github.com/apache/yunikorn-core/pkg/scheduler/placement	1.030s	coverage: 90.6% of statements
ok  	github.com/apache/yunikorn-core/pkg/scheduler/policies	1.009s	coverage: 100.0% of statements
2024-02-05T10:15:59.482Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:15:59.483Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:15:59.483Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:15:59.483Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:15:59.484Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:15:59.484Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:15:59.485Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:15:59.485Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:15:59.485Z	INFO	core.entrypoint	entrypoint/entrypoint.go:110	ServiceContext start web application service
2024-02-05T10:15:59.485Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:15:59.485Z	INFO	core.rest	webservice/webservice.go:70	web-app started	{"port": 9080}
2024-02-05T10:15:59.485Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:15:59.485Z	ERROR	core.rest	webservice/webservice.go:74	HTTP serving error	{"error": "listen tcp :9080: bind: address already in use"}
github.com/apache/yunikorn-core/pkg/webservice.(*WebService).StartWebApp.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/webservice/webservice.go:74
2024-02-05T10:15:59.486Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:15:59.486Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:15:59.486Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:15:59.486Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.singleleaf"}
2024-02-05T10:15:59.486Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:15:59.486Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:15:59.486Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:15:59.486Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:15:59.486Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:15:59.486Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:15:59.486Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:15:59.486Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:15:59.486Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:15:59.486Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:15:59.486Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:15:59.486Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:15:59.486Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:00.309Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:00.309Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:00.310Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:00.310Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:00.310Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:00.310Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:00.310Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.singleleaf"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.singleleaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:00.310Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:00.310Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:00.310Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:00.310Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
--- FAIL: TestApplicationHistoryTracking (0.83s)
    application_tracking_test.go:56: assertion failed: error is not nil: Get "http://localhost:9080/ws/v1/events/stream?count=1000": EOF
2024-02-05T10:16:00.310Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:00.310Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:00.310Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:00.310Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:00.311Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:00.312Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:00.312Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:00.313Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:00.313Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:00.313Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:00.314Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:00.314Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:00.314Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:00.314Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:00.314Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:00.314Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:00.314Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:00.314Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:00.314Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:00.314Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:00.314Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:00.314Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:00.314Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:00.314Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:00.315Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:00.315Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:00.314Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:00.315Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:00.315Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:00.315Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:00.325Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:00.325Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:2000]"}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:00.837Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Rejected", "event": "rejectApplication"}
2024-02-05T10:16:00.837Z	ERROR	core.scheduler.context	scheduler/context.go:531	Failed to add application to partition (placement rejected)	{"applicationID": "app-1", "partitionName": "[rm:123]default", "error": "adding application app-1 to partition [rm:123]default, but application already existed"}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateApplicationEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:531
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:135
2024-02-05T10:16:00.847Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:00.847Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:00.847Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:00.847Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:00.847Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:00.948Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:00.948Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:00.948Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:01.350Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:01.350Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:01.350Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:01.350Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:01.350Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:01.350Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:01.351Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerWithoutNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/operation_test.go:161
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:01.351Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:01.352Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:01.352Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:01.352Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:01.352Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:01.352Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:01.352Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:01.352Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:01.352Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:01.353Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:01.353Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:01.353Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:01.353Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:01.353Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:01.353Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:01.354Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:01.354Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:01.354Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:01.354Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:01.354Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:01.354Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:01.354Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:01.354Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:01.354Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:01.354Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:01.354Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:01.354Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:01.354Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:01.354Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:01.354Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:01.354Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:01.354Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:01.354Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:01.355Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:01.355Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:01.365Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:01.365Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:2000]"}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:01.877Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Rejected", "event": "rejectApplication"}
2024-02-05T10:16:01.877Z	ERROR	core.scheduler.context	scheduler/context.go:531	Failed to add application to partition (placement rejected)	{"applicationID": "app-1", "partitionName": "[rm:123]default", "error": "adding application app-1 to partition [rm:123]default, but application already existed"}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateApplicationEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:531
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:135
2024-02-05T10:16:01.887Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:01.887Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:01.887Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:01.887Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:01.887Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:01.988Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:01.988Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:01.988Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.partition	scheduler/partition.go:801	node removal: allocation removed	{"nodeID": "node-1:1234", "queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.partition	scheduler/partition.go:801	node removal: allocation removed	{"nodeID": "node-1:1234", "queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.390Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.400Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:02.400Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:02.400Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:02.400Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:02.400Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:02.400Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:02.400Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.400Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:02.400Z	ERROR	core.scheduler.ugm	ugm/manager.go:118	user tracker must be available in userTrackers map	{"user": "testuser"}
github.com/apache/yunikorn-core/pkg/scheduler/ugm.(*Manager).DecreaseTrackedResource
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/ugm/manager.go:118
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).decUserResourceUsage
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1665
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1851
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAddRemoveNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/operation_test.go:312
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:02.400Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Completing", "destination": "Completed", "event": "completeApplication"}
2024-02-05T10:16:02.401Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.401Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.401Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:02.401Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:02.401Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:02.401Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:02.401Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:02.401Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:02.401Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:02.405Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:02.406Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:02.407Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:02.407Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:02.407Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:02.408Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:02.410Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.410Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:02.410Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:02.410Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:02.410Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:02.410Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:02.410Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:02.410Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:02.410Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:02.410Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:02.410Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:02.410Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:02.420Z	ERROR	core.scheduler.context	scheduler/context.go:671	Could not parse ready attribute, assuming true	{"attributes": {"si/node-partition":"[rm:123]default"}}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).updateNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:671
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:290
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:02.421Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:300000000 vcore:10000]"}
2024-02-05T10:16:02.431Z	ERROR	core.scheduler.context	scheduler/context.go:671	Could not parse ready attribute, assuming true	{"attributes": {"si/node-partition":"[rm:123]default"}}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).updateNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:671
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:290
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:02.431Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:300000000 vcore:10000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:02.441Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:02.441Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:02.441Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:02.441Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:02.441Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:02.441Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.441Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.441Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:02.441Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:02.441Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:02.442Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:02.442Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:02.442Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:02.442Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:02.442Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:02.442Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:02.442Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:02.443Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:02.443Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:02.443Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:02.443Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.443Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:02.443Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:02.443Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:02.443Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:02.443Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:02.443Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:02.443Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:02.443Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:02.443Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:02.443Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:02.443Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:02.443Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:02.443Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:02.443Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:02.443Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:02.444Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.444Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:02.444Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:02.444Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:02.454Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:02.454Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:02.454Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:02.454Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:02.464Z	ERROR	core.scheduler.context	scheduler/context.go:671	Could not parse ready attribute, assuming true	{"attributes": {"si/node-partition":"[rm:123]default"}}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).updateNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:671
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:290
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:02.464Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:150000000 vcore:30000]"}
2024-02-05T10:16:02.474Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:02.474Z	ERROR	core.scheduler.context	scheduler/context.go:671	Could not parse ready attribute, assuming true	{"attributes": {"si/node-partition":"[rm:123]default"}}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).updateNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:671
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:290
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:02.474Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:02.474Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:02.475Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:02.475Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:02.475Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:150000000 vcore:30000]", "new max": "map[memory:50000000 vcore:10000]"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:50000000 vcore:10000]"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:10000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.475Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:02.475Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:02.475Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:02.475Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:02.475Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:02.476Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:02.476Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:02.476Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:02.476Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:02.476Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:02.476Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:02.476Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:02.477Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:02.477Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.477Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:02.477Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:02.477Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:02.477Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:02.477Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:02.477Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:02.477Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:02.477Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:02.477Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:02.477Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:02.477Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:02.477Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:02.477Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:02.477Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:02.477Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:02.478Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:02.478Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.478Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:10]"}
2024-02-05T10:16:02.478Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:10]"}
2024-02-05T10:16:02.478Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:02.488Z	ERROR	core.scheduler.context	scheduler/context.go:671	Could not parse ready attribute, assuming true	{"attributes": {"si/node-partition":"[rm:123]default"}}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).updateNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:671
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:290
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:02.498Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:02.498Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:02.498Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:02.498Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:02.498Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:02.498Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:02.498Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:02.498Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.498Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:10]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:02.499Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.499Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:02.499Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:02.499Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:02.499Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:02.499Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:02.499Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:02.499Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:02.500Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:02.500Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:02.501Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:02.501Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:02.501Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:02.501Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:02.502Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:02.502Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:02.502Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:02.504Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.singleleaf"}
2024-02-05T10:16:02.505Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:02.505Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:02.506Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:02.506Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:02.506Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:02.506Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:02.506Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:02.506Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:02.506Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:02.506Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:02.506Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:10]"}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:10]"}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:02.506Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.singleleaf"}
2024-02-05T10:16:02.506Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.singleleaf", "placed queue": "root.singleleaf"}
2024-02-05T10:16:02.516Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:02.516Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:8]"}
2024-02-05T10:16:02.516Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:02.516Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.singleleaf"}
2024-02-05T10:16:02.517Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:02.517Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:02.517Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:8]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:02.526Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:5]"}
2024-02-05T10:16:03.501Z	INFO	core.scheduler	scheduler/scheduler.go:101	Found outstanding requests that will trigger autoscaling	{"number of requests": 1, "total resources": "map[memory:5]"}
2024-02-05T10:16:03.531Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:03.531Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:03.531Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:03.531Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:03.531Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:03.531Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.singleleaf"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.singleleaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:5]"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.singleleaf", "applicationID": "app-1"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:03.531Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestContainerStateUpdater
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/plugin_test.go:139
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:10]", "new max": "map[memory:0]"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:0]"}
2024-02-05T10:16:03.531Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:03.531Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:03.531Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:03.531Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:03.532Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:03.532Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:03.532Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:03.532Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:03.541Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:03.541Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:03.541Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:03.541Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:03.541Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:03.541Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:03.542Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:03.542Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:03.542Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:03.542Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:03.542Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:03.542Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:03.542Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:03.542Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:03.542Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:03.542Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:03.542Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:03.542Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:03.553Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:03.553Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:03.553Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:03.563Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:03.563Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20 vcore:2]"}
2024-02-05T10:16:03.573Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:03.573Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:03.573Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:03.573Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:03.573Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:03.673Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:03.674Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:03.674Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:04.075Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:100 vcore:10]"}
2024-02-05T10:16:04.076Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-3", "placeholder": false, "pendingDelta": "map[memory:200 vcore:10]"}
2024-02-05T10:16:04.087Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:04.087Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:50 vcore:5]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:04.188Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-1, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:04.189Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-1", "allocatedResource": "map[memory:50 vcore:5]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:04.593Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:04.593Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:04.593Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:04.593Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:04.593Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:04.593Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:04.593Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:04.593Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.594Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:04.595Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:200 vcore:10]"}
2024-02-05T10:16:04.595Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:04.595Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:04.595Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerRecovery
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:234
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200 vcore:40]", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:04.596Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:04.597Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.597Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.597Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.597Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:04.597Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:04.597Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:04.599Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:04.599Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:04.600Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:04.600Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:04.615Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:04.615Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:04.615Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:04.615Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:04.615Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:04.615Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:04.616Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.616Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:04.616Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:04.616Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:04.616Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:04.616Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:04.616Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:04.616Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:04.616Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:04.616Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:04.616Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:04.616Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:04.616Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:04.616Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:04.616Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:04.616Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:04.616Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:04.616Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:04.616Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:04.616Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:04.626Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:04.627Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:04.627Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-0"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-0", "placeholder": false}
2024-02-05T10:16:04.627Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-2", "allocationid": "alloc-2-0"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-2", "allocationUid": "alloc-2-0", "placeholder": false}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:04.628Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:04.628Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-1"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-1", "placeholder": false}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-2", "allocationid": "alloc-2-1"}
2024-02-05T10:16:04.628Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-2", "allocationUid": "alloc-2-1", "placeholder": false}
2024-02-05T10:16:04.629Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:04.637Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:04.637Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:04.637Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:04.637Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:04.638Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:04.638Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:04.638Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.638Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.639Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:04.639Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[]"}
2024-02-05T10:16:04.639Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:04.639Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:04.640Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerRecovery
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:336
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:04.640Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.640Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.640Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.640Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200 vcore:40]", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.641Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.641Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:04.642Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:04.642Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:04.643Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:04.643Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:04.643Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:04.643Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:04.652Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:04.653Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:04.653Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:04.653Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:04.653Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:04.653Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:04.654Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.654Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:04.654Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:04.654Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:04.654Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:04.654Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:04.654Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:04.654Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:04.654Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:04.654Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:04.654Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:04.654Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:04.654Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:04.654Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:04.655Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.655Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:04.655Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.655Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:04.655Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:04.655Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:04.655Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:04.665Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:04.665Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:04.665Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:04.675Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:04.675Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20 vcore:2]"}
2024-02-05T10:16:04.775Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:04.776Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:04.776Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:04.777Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:04.777Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:04.878Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:04.878Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.a", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:04.879Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:04.979Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:04.980Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:04.980Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:04.980Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:04.980Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:04.980Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:04.980Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:04.980Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.980Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:04.981Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.981Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:04.981Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:04.981Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.981Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:04.982Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.982Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:04.982Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:04.983Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerRecovery2Allocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:412
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:04.983Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:04.983Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.983Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:04.983Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.984Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:04.984Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:04.984Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:04.984Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:04.984Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:04.985Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:04.985Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:04.985Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:04.985Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.000Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.000Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.000Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.000Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:05.000Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:05.000Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.000Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.000Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.001Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.001Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.001Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:05.001Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.001Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:05.001Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.001Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.001Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:05.001Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.001Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.001Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.001Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:05.001Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:05.011Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.011Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.011Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.011Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-0"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.a"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-0", "placeholder": false}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-1"}
2024-02-05T10:16:05.012Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:05.013Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-1", "placeholder": false}
2024-02-05T10:16:05.013Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.022Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:05.022Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:05.022Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:05.022Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:05.022Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:05.022Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:05.022Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:05.022Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.022Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[]"}
2024-02-05T10:16:05.023Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-1"}
2024-02-05T10:16:05.024Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:05.024Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerRecovery2Allocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:447
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.024Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.024Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.024Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.024Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.025Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.025Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.025Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:05.025Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:05.025Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:05.027Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:05.028Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.028Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.028Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.030Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.030Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.031Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.031Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:05.031Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:05.031Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.033Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.033Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.033Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.033Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:05.033Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.034Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.034Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:05.034Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.034Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:05.034Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:05.034Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.034Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:05.034Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.034Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.035Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.035Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.035Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.035Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.035Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.035Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.035Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-01", "allocKey": "allocation-key-01", "allocationid": "ALLOCATIONID01"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.036Z	INFO	core.scheduler.partition	scheduler/partition.go:562	Failed to add existing allocations, changes reversed	{"nodeID": "node-1:1234", "existingAllocations": 1, "releasedAllocations": 0, "processingAlloc": 0, "allocation": "applicationID=app-01, allocationID=ALLOCATIONID01, allocationKey=allocation-key-01, Node=node-1:1234, result=Allocated", "error": "failed to find application app-01"}
2024-02-05T10:16:05.036Z	ERROR	core.scheduler.context	scheduler/context.go:616	Failed to add node to partition (rejected)	{"nodeID": "node-1:1234", "partitionName": "[rm:123]default", "error": "failed to find application app-01"}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:616
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.037Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.037Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.037Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.037Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.046Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.046Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-01", "queue": "root.a"}
2024-02-05T10:16:05.046Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-01", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:05.056Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.056Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.056Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-01", "allocKey": "allocation-key-01", "allocationid": "ALLOCATIONID01"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-01", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-01", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:05.057Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-01", "queue path": "root.a"}
2024-02-05T10:16:05.058Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-01", "allocKey": "allocation-key-01", "allocationUid": "ALLOCATIONID01", "placeholder": false}
2024-02-05T10:16:05.058Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.066Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:05.066Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:05.066Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:05.067Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:05.067Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:05.067Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:05.067Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.a"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.a", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.067Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.068Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-01", "source": "Starting", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:05.068Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-01", "ask": "", "pendingDelta": "map[]"}
2024-02-05T10:16:05.068Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.a", "applicationID": "app-01"}
2024-02-05T10:16:05.068Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:05.068Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulerRecoveryWithoutAppInfo
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:581
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.069Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.069Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.069Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.069Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200 vcore:40]", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.069Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.069Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.070Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.070Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.070Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.070Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.070Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:05.070Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:05.070Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:05.071Z	INFO	core.entrypoint	entrypoint/entrypoint.go:69	ServiceContext start all services (manual scheduler)
2024-02-05T10:16:05.071Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.071Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.071Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.073Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.073Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.074Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithManualScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:70
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecovery
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:585
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.074Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithManualScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:70
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecovery
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:585
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.074Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.074Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.076Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.076Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.076Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.076Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:05.077Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.077Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.077Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:05.077Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.077Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:05.077Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:05.077Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.077Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.077Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:05.077Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.077Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.078Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.078Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.078Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.078Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:05.078Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:05.088Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.088Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.088Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.089Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.089Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.089Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.089Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.089Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.098Z	INFO	core.entrypoint	entrypoint/entrypoint.go:69	ServiceContext start all services (manual scheduler)
2024-02-05T10:16:05.099Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.099Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.099Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.101Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.101Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.101Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithManualScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:70
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryAlone
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:656
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.102Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithManualScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:70
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryAlone
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:656
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.102Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.102Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.104Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.104Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.104Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.105Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.a"}
2024-02-05T10:16:05.105Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.105Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.105Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:05.105Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.105Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.105Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.105Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.105Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.106Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.106Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.106Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.106Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.a"}
2024-02-05T10:16:05.106Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:05.106Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.106Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-2", "queue": "root.a"}
2024-02-05T10:16:05.107Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-2", "partitionName": "[rm:123]default", "requested queue": "root.a", "placed queue": "root.a"}
2024-02-05T10:16:05.118Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:05.118Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.118Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.118Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.129Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.129Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.129Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:728
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.129Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:728
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.130Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.130Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:05.130Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:05.130Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.130Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.130Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.130Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.130Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.130Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.130Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.130Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.130Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.130Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.130Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.131Z	INFO	core.config	placement/tag_rule.go:116	Tag rule application placed	{"application": "app-1", "queue": "root.app-1-namespace"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.queue	objects/queue.go:202	dynamic queue added to scheduler	{"queueName": "root.app-1-namespace"}
2024-02-05T10:16:05.131Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "", "placed queue": "root.app-1-namespace"}
2024-02-05T10:16:05.141Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:05.142Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "test-user", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20 vcore:2]"}
2024-02-05T10:16:05.152Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "test-user"}
2024-02-05T10:16:05.152Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "test-user", "application": "app-1", "queue path": "root.app-1-namespace"}
2024-02-05T10:16:05.152Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:05.153Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.app-1-namespace", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:05.153Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:05.254Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:05.254Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.app-1-namespace", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:05.255Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10 vcore:1]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:05.657Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:05.657Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:05.657Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:05.657Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:05.657Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:05.658Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:05.658Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:05.658Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.658Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:05.658Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.658Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.658Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:05.659Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.659Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.app-1-namespace", "applicationID": "app-1"}
2024-02-05T10:16:05.659Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "test-user"}
2024-02-05T10:16:05.660Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:860
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.660Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.660Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.660Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.660Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200 vcore:40]", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.661Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.661Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:05.662Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:05.662Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:05.662Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:05.662Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.663Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.663Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.666Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.666Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.667Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:863
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.667Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:863
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.667Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.667Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:05.667Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:05.667Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.667Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.667Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.667Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.667Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.667Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.667Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.667Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:05.667Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:05.667Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.667Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.667Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.667Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.667Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:05.667Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.667Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.667Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.667Z	INFO	core.config	placement/tag_rule.go:116	Tag rule application placed	{"application": "app-1", "queue": "root.app-1-namespace"}
2024-02-05T10:16:05.667Z	INFO	core.scheduler.queue	objects/queue.go:202	dynamic queue added to scheduler	{"queueName": "root.app-1-namespace"}
2024-02-05T10:16:05.667Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "", "placed queue": "root.app-1-namespace"}
2024-02-05T10:16:05.678Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.678Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.678Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.679Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.679Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-0"}
2024-02-05T10:16:05.679Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:05.679Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:05.680Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "test-user"}
2024-02-05T10:16:05.680Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "test-user", "application": "app-1", "queue path": "root.app-1-namespace"}
2024-02-05T10:16:05.680Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-0", "placeholder": false}
2024-02-05T10:16:05.680Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.680Z	WARN	core.scheduler.allocation	objects/allocation.go:138	CreationTime is not set on the Allocation object or invalid	{"creationTime": ""}
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAllocationFromSI
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/allocation.go:138
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).convertAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:885
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).addNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:611
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).processNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:278
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateNodeEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:254
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:137
2024-02-05T10:16:05.680Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.680Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.681Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200 vcore:40]"}
2024-02-05T10:16:05.681Z	INFO	core.scheduler.partition	scheduler/partition.go:1160	adding recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationid": "alloc-1-1"}
2024-02-05T10:16:05.681Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:05.681Z	INFO	core.scheduler.partition	scheduler/partition.go:1201	recovered allocation	{"partitionName": "[rm:123]default", "appID": "app-1", "allocKey": "alloc-1", "allocationUid": "alloc-1-1", "placeholder": false}
2024-02-05T10:16:05.681Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.689Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:05.689Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:05.689Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:05.689Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:05.689Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:05.689Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:05.689Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:05.689Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.689Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:05.690Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:05.690Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.690Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:05.690Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[]"}
2024-02-05T10:16:05.690Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.app-1-namespace", "applicationID": "app-1"}
2024-02-05T10:16:05.691Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "test-user"}
2024-02-05T10:16:05.691Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAppRecoveryPlacement
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/recovery_test.go:931
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.691Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:05.691Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.691Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:05.691Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200 vcore:40]", "new max": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100 vcore:20]"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100 vcore:20]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:05.692Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.692Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:05.692Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:05.692Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:05.693Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:05.693Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:05.693Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:05.694Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:05.697Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:05.697Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:05.697Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicReservation
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:88
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.697Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicReservation
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:88
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:05.698Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:05.698Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:05.698Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:05.698Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:05.698Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:05.698Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:05.698Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:05.698Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-1"}
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:05.699Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:05.699Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:05.699Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:05.699Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:05.699Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:05.699Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:05.699Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:05.699Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:05.699Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:05.700Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:05.710Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:05.710Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf-1"}
2024-02-05T10:16:05.711Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf-1", "placed queue": "root.leaf-1"}
2024-02-05T10:16:05.721Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:05.721Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:120000000 vcore:120000]"}
2024-02-05T10:16:05.731Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:05.731Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf-1"}
2024-02-05T10:16:05.732Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:05.732Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:05.732Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:05.833Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:05.834Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:05.834Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:05.935Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:05.936Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:06.037Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:06.038Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:06.139Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-1, result=Reserved"}
2024-02-05T10:16:06.140Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-1", "ask": "alloc-1"}
2024-02-05T10:16:06.140Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-1"}
2024-02-05T10:16:06.241Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-2, result=Reserved"}
2024-02-05T10:16:06.241Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-2", "ask": "alloc-1"}
2024-02-05T10:16:06.241Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-2"}
2024-02-05T10:16:07.150Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-2", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:07.151Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-1", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:07.151Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:40000000 vcore:40000]"}
2024-02-05T10:16:07.151Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-1", "applicationID": "app-1"}
2024-02-05T10:16:07.152Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:07.152Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:07.152Z	INFO	core.scheduler.context	scheduler/context.go:571	Application removed from partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "allocations released": 4}
2024-02-05T10:16:07.161Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:07.161Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:07.161Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:07.161Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:07.161Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:07.161Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:07.162Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-1"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:07.162Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:100000]", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:07.163Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:07.164Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:07.164Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:07.164Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:07.164Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:07.164Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:07.164Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:07.166Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:07.166Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:07.166Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:07.166Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:07.178Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:07.179Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:07.179Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestReservationForTwoQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:164
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:07.179Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestReservationForTwoQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:164
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:07.179Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:07.179Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:07.180Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:07.180Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:07.183Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:07.183Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:07.183Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:07.183Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-1"}
2024-02-05T10:16:07.184Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-2"}
2024-02-05T10:16:07.184Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:07.184Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:07.184Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:07.184Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:07.184Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:07.184Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:07.184Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:07.184Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:07.185Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:07.185Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:07.185Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:07.185Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:07.185Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:07.185Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:07.185Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:07.185Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:07.185Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:07.186Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:07.186Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:07.186Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:07.186Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:07.195Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:07.196Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf-1"}
2024-02-05T10:16:07.196Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf-1", "placed queue": "root.leaf-1"}
2024-02-05T10:16:07.206Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:07.206Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-2", "queue": "root.leaf-2"}
2024-02-05T10:16:07.206Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-2", "partitionName": "[rm:123]default", "requested queue": "root.leaf-2", "placed queue": "root.leaf-2"}
2024-02-05T10:16:07.216Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:07.216Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-3", "queue": "root.leaf-2"}
2024-02-05T10:16:07.216Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-3", "partitionName": "[rm:123]default", "requested queue": "root.leaf-2", "placed queue": "root.leaf-2"}
2024-02-05T10:16:07.226Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:07.227Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:80000000 vcore:80000]"}
2024-02-05T10:16:07.237Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:07.237Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf-1"}
2024-02-05T10:16:07.238Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:07.238Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:07.238Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:07.340Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:07.340Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:07.341Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:07.442Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:07.443Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:07.544Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:07.544Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:07.848Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:07.848Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-2", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:40000000 vcore:40000]"}
2024-02-05T10:16:07.848Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-3", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:07.849Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-3", "user": "testuser", "ask": "alloc-3", "placeholder": false, "pendingDelta": "map[memory:10000000 vcore:10000]"}
2024-02-05T10:16:07.858Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-2", "queue path": "root.leaf-2"}
2024-02-05T10:16:07.858Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=N/A, allocationKey=alloc-2, Node=node-1, result=Reserved"}
2024-02-05T10:16:07.858Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-2", "node": "node-1", "ask": "alloc-2"}
2024-02-05T10:16:07.859Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-2", "queue": "root.leaf-2", "allocationKey": "alloc-2", "node": "node-1"}
2024-02-05T10:16:07.959Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=N/A, allocationKey=alloc-2, Node=node-2, result=Reserved"}
2024-02-05T10:16:07.960Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-2", "node": "node-2", "ask": "alloc-2"}
2024-02-05T10:16:07.960Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-2", "queue": "root.leaf-2", "allocationKey": "alloc-2", "node": "node-2"}
2024-02-05T10:16:08.061Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-3", "queue path": "root.leaf-2"}
2024-02-05T10:16:08.465Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:08.466Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-1", "applicationID": "app-1"}
2024-02-05T10:16:08.466Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:08.467Z	INFO	core.scheduler.context	scheduler/context.go:571	Application removed from partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "allocations released": 4}
2024-02-05T10:16:08.476Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:08.477Z	INFO	core.scheduler.queue	objects/queue.go:1470	reservation found for allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-1, result=AllocatedReserved", "appStatus": "Starting"}
2024-02-05T10:16:08.477Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-1", "app": "app-2", "ask": "alloc-2"}
2024-02-05T10:16:08.477Z	INFO	core.scheduler.partition	scheduler/partition.go:987	allocation ask is unreserved	{"appID": "app-2", "queue": "root.leaf-2", "allocationKey": "alloc-2", "node": "node-1", "reservationsRemoved": 1}
2024-02-05T10:16:08.477Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:08.579Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:08.579Z	INFO	core.scheduler.queue	objects/queue.go:1470	reservation found for allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-1, allocationKey=alloc-2, Node=node-2, result=AllocatedReserved", "appStatus": "Running"}
2024-02-05T10:16:08.580Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-2", "app": "app-2", "ask": "alloc-2"}
2024-02-05T10:16:08.580Z	INFO	core.scheduler.partition	scheduler/partition.go:987	allocation ask is unreserved	{"appID": "app-2", "queue": "root.leaf-2", "allocationKey": "alloc-2", "node": "node-2", "reservationsRemoved": 1}
2024-02-05T10:16:08.580Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-1", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:08.682Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-3", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:08.682Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-3", "allocation": "applicationID=app-3, allocationID=alloc-3-0, allocationKey=alloc-3, Node=node-1, result=Allocated"}
2024-02-05T10:16:08.683Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-3", "allocationKey": "alloc-3", "allocationid": "alloc-3-0", "allocatedResource": "map[memory:5000000 vcore:5000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:08.784Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-3", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:08.784Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-2", "appID": "app-3", "allocation": "applicationID=app-3, allocationID=alloc-3-1, allocationKey=alloc-3, Node=node-2, result=Allocated"}
2024-02-05T10:16:08.785Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-3", "allocationKey": "alloc-3", "allocationid": "alloc-3-1", "allocatedResource": "map[memory:5000000 vcore:5000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:08.886Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:08.886Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:08.886Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:08.886Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:08.886Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:08.886Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:08.887Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-1"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:08.887Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-2"}
2024-02-05T10:16:08.888Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-2", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:08.888Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:08.888Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:08.888Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-2", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:08.889Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-2", "applicationID": "app-2"}
2024-02-05T10:16:08.889Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestReservationForTwoQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:261
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:08.889Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-3", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:08.890Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-3", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:08.890Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-2", "applicationID": "app-3"}
2024-02-05T10:16:08.890Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:08.891Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestReservationForTwoQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:261
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:08.891Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:08.891Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:08.891Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:08.891Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:100000]", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:08.892Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:08.892Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:08.892Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:08.892Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:08.892Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:08.893Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:08.893Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:08.893Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:08.893Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:08.895Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:08.896Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:08.896Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:08.896Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:08.898Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:08.898Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:08.899Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRemoveReservedNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:268
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:08.899Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRemoveReservedNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:268
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:08.899Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:08.899Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:08.899Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:08.900Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:08.901Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:08.902Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:08.902Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:08.902Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-1"}
2024-02-05T10:16:08.902Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:08.902Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:08.902Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:08.902Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:08.903Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:08.903Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:08.903Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:08.903Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:08.903Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:08.903Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:08.903Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:08.903Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:08.903Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:08.903Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:08.904Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:08.904Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:08.904Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:08.904Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:08.904Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:08.905Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:08.905Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:08.914Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:08.914Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf-1"}
2024-02-05T10:16:08.914Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf-1", "placed queue": "root.leaf-1"}
2024-02-05T10:16:08.924Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:08.925Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:120000000 vcore:120000]"}
2024-02-05T10:16:08.935Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:08.935Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf-1"}
2024-02-05T10:16:08.935Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:08.936Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:08.936Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:09.037Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:09.038Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:09.038Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:09.140Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:09.140Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:09.241Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:09.242Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:09.343Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-1, result=Reserved"}
2024-02-05T10:16:09.343Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-1", "ask": "alloc-1"}
2024-02-05T10:16:09.343Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-1"}
2024-02-05T10:16:09.444Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-2, result=Reserved"}
2024-02-05T10:16:09.445Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-2", "ask": "alloc-1"}
2024-02-05T10:16:09.445Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-2"}
2024-02-05T10:16:09.948Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:09.949Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:09.949Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-2", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:09.949Z	INFO	core.scheduler.partition	scheduler/partition.go:987	allocation ask is unreserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-2", "reservationsRemoved": 1}
2024-02-05T10:16:09.949Z	INFO	core.scheduler.partition	scheduler/partition.go:801	node removal: allocation removed	{"nodeID": "node-2", "queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:09.950Z	INFO	core.scheduler.partition	scheduler/partition.go:801	node removal: allocation removed	{"nodeID": "node-2", "queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:09.950Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:100000]", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:09.951Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:09.959Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:09.959Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:09.959Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:09.959Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:09.959Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:09.959Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:09.959Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-1"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:09.960Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:09.961Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-1", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:09.961Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:40000000 vcore:40000]"}
2024-02-05T10:16:09.961Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-1", "applicationID": "app-1"}
2024-02-05T10:16:09.961Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:09.962Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRemoveReservedNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:312
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:09.962Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:09.962Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:09.962Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:09.962Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:09.962Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:09.962Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:09.963Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:09.963Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:09.963Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:09.965Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:09.965Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:09.965Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:09.965Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:09.968Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:09.968Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:09.968Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAddNewNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:319
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:09.968Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAddNewNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:319
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:09.968Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:09.968Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:09.969Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:09.969Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:09.971Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:09.971Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:09.971Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:09.971Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-1"}
2024-02-05T10:16:09.972Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:09.972Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:09.972Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:09.972Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:09.972Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:09.972Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:09.972Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:09.972Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:09.972Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:09.972Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:09.972Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:09.973Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:09.973Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:09.973Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:09.973Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:09.973Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:09.973Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:09.973Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-3"}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:100000]", "new max": "map[memory:150000000 vcore:150000]"}
2024-02-05T10:16:09.974Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-3", "partitionResource": "map[memory:150000000 vcore:150000]"}
2024-02-05T10:16:09.975Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-3", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:09.984Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:09.984Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf-1"}
2024-02-05T10:16:09.984Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf-1", "placed queue": "root.leaf-1"}
2024-02-05T10:16:09.994Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:09.994Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:120000000 vcore:120000]"}
2024-02-05T10:16:10.004Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:10.004Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf-1"}
2024-02-05T10:16:10.005Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:10.005Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:10.006Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:10.107Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:10.107Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:10.108Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:10.209Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:10.209Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:10.310Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2, result=Allocated"}
2024-02-05T10:16:10.311Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:10.412Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-1, result=Reserved"}
2024-02-05T10:16:10.412Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-1", "ask": "alloc-1"}
2024-02-05T10:16:10.412Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-1"}
2024-02-05T10:16:10.513Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-1, Node=node-2, result=Reserved"}
2024-02-05T10:16:10.514Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-2", "ask": "alloc-1"}
2024-02-05T10:16:10.514Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-2"}
2024-02-05T10:16:11.018Z	INFO	core.scheduler.queue	objects/queue.go:1470	reservation found for allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-3, result=AllocatedReserved", "appStatus": "Running"}
2024-02-05T10:16:11.018Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-2", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:11.018Z	INFO	core.scheduler.partition	scheduler/partition.go:987	allocation ask is unreserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-2", "reservationsRemoved": 1}
2024-02-05T10:16:11.018Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-3"}
2024-02-05T10:16:11.120Z	INFO	core.scheduler.queue	objects/queue.go:1470	reservation found for allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-3, result=AllocatedReserved", "appStatus": "Running"}
2024-02-05T10:16:11.120Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-1", "app": "app-1", "ask": "alloc-1"}
2024-02-05T10:16:11.120Z	INFO	core.scheduler.partition	scheduler/partition.go:987	allocation ask is unreserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-1", "node": "node-1", "reservationsRemoved": 1}
2024-02-05T10:16:11.120Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-3"}
2024-02-05T10:16:12.025Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:12.025Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:12.026Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:12.026Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:12.026Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:12.026Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:12.026Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:12.026Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-1"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:12.027Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:12.028Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:12.028Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-1", "applicationID": "app-1"}
2024-02-05T10:16:12.028Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:12.028Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestAddNewNode
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:370
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:12.029Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 3, "partitionName": "[rm:123]default"}
2024-02-05T10:16:12.029Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:12.029Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:12.029Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:150000000 vcore:150000]", "new max": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:100000000 vcore:100000]"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:100000]", "new max": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:50000000 vcore:50000]"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-3"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-3"}
2024-02-05T10:16:12.030Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:50000000 vcore:50000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:12.031Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-3", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:12.031Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:12.031Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:12.031Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:12.031Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:12.033Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:12.033Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:12.033Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:12.033Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:12.038Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:12.039Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:12.039Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestUnReservationAndDeletion
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:377
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:12.039Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestUnReservationAndDeletion
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:377
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:12.039Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:12.039Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:12.040Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:12.040Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:12.041Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:12.041Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:12.041Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:12.041Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf-1"}
2024-02-05T10:16:12.042Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:12.042Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:12.042Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:12.042Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:12.042Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:12.042Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:12.042Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:12.042Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:12.042Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:12.042Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:12.042Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:12.042Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:12.042Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:12.043Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:30000000 vcore:30000]"}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:30000000 vcore:30000]"}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:30000000 vcore:30000]", "new max": "map[memory:60000000 vcore:60000]"}
2024-02-05T10:16:12.043Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:60000000 vcore:60000]"}
2024-02-05T10:16:12.044Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:12.053Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:12.054Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf-1"}
2024-02-05T10:16:12.054Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf-1", "placed queue": "root.leaf-1"}
2024-02-05T10:16:12.063Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:12.064Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:20000]"}
2024-02-05T10:16:12.064Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:20000]"}
2024-02-05T10:16:12.064Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-3", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:20000]"}
2024-02-05T10:16:12.074Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:12.074Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf-1"}
2024-02-05T10:16:12.074Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:12.075Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1, result=Allocated"}
2024-02-05T10:16:12.075Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-1"}
2024-02-05T10:16:12.177Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:12.177Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-2, result=Allocated"}
2024-02-05T10:16:12.177Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:20000000 vcore:20000]", "placeholder": false, "targetNode": "node-2"}
2024-02-05T10:16:12.278Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=N/A, allocationKey=alloc-3, Node=node-1, result=Reserved"}
2024-02-05T10:16:12.279Z	INFO	core.scheduler.application	objects/application.go:809	reservation added successfully	{"app": "app-1", "node": "node-1", "ask": "alloc-3"}
2024-02-05T10:16:12.279Z	INFO	core.scheduler.partition	scheduler/partition.go:964	allocation ask is reserved	{"appID": "app-1", "queue": "root.leaf-1", "allocationKey": "alloc-3", "node": "node-1"}
2024-02-05T10:16:12.582Z	INFO	core.scheduler.application	objects/application.go:853	reservation removed successfully	{"node": "node-1", "app": "app-1", "ask": "alloc-3"}
2024-02-05T10:16:12.583Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "alloc-3", "pendingDelta": "map[memory:20000000 vcore:20000]"}
2024-02-05T10:16:12.583Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:12.584Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1", "allocationId": "alloc-1-0"}
2024-02-05T10:16:12.584Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-2-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:12.584Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:12.584Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:12.585Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-2", "allocationId": "alloc-2-0"}
2024-02-05T10:16:13.087Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:13.087Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:13.087Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:13.087Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:13.087Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:13.087Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:13.088Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf-1"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.088Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:13.089Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:13.089Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf-1", "applicationID": "app-1"}
2024-02-05T10:16:13.089Z	ERROR	core.scheduler.ugm	ugm/manager.go:118	user tracker must be available in userTrackers map	{"user": "testuser"}
github.com/apache/yunikorn-core/pkg/scheduler/ugm.(*Manager).DecreaseTrackedResource
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/ugm/manager.go:118
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).decUserResourceUsage
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1665
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1851
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestUnReservationAndDeletion
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/reservation_test.go:448
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:13.090Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Completing", "destination": "Completed", "event": "completeApplication"}
2024-02-05T10:16:13.090Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:13.090Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:13.090Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1"}
2024-02-05T10:16:13.090Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:60000000 vcore:60000]", "new max": "map[memory:30000000 vcore:30000]"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1", "partitionResource": "map[memory:30000000 vcore:30000]"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:30000000 vcore:30000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:13.091Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.092Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:13.092Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:13.092Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:13.093Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:13.093Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:13.093Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:13.093Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:13.098Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:13.098Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:13.098Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestConfigScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:68
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:13.099Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestConfigScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:68
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:13.099Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:13.099Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:13.099Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:13.099Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:13.099Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.099Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:13.099Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:13.099Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.base"}
2024-02-05T10:16:13.099Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.tobedeleted"}
2024-02-05T10:16:13.099Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:13.100Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:13.100Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:13.100Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:13.100Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:13.100Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:13.100Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:13.100Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:13.100Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:13.100Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:13.100Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:13.100Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:13.100Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:13.100Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:13.100Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:13.100Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:13.101Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.base"}
2024-02-05T10:16:13.101Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.tobeadded"}
2024-02-05T10:16:13.101Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:13.101Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:13.101Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:13.101Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:13.101Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:13.101Z	INFO	core.scheduler.context	scheduler/context.go:373	updating partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.101Z	INFO	core.scheduler.partition	scheduler/partition.go:167	Updating placement manager rules on config reload
2024-02-05T10:16:13.102Z	INFO	core.config	placement/placement.go:54	Building new rule list for placement manager
2024-02-05T10:16:13.102Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:13.102Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:13.102Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:13.102Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:13.102Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:13.103Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.tobeadded"}
2024-02-05T10:16:13.103Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.tobedeleted"}
2024-02-05T10:16:13.103Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.tobedeleted", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.103Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]gpu"}
2024-02-05T10:16:13.103Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:13.104Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.production"}
2024-02-05T10:16:13.104Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.test"}
2024-02-05T10:16:13.104Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]gpu", "rmID": "rm:123"}
2024-02-05T10:16:13.104Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:13.104Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:13.104Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:13.104Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:13.104Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]gpu", "cleanRootInterval": "10s"}
2024-02-05T10:16:13.105Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:13.105Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:13.105Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:13.105Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:13.105Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:13.105Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:13.105Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:13.105Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:13.105Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]gpu"}
2024-02-05T10:16:13.106Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]gpu"}
2024-02-05T10:16:13.106Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:13.106Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.106Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.production"}
2024-02-05T10:16:13.106Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.production", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.test"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.test", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]gpu"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 0, "partitionName": "[rm:123]gpu"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]gpu"}
2024-02-05T10:16:13.107Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:13.107Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:13.107Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.base"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.base", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.tobedeleted"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.tobeadded"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.tobeadded", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:13.108Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.108Z	INFO	core.security	security/usergroup.go:233	UserGroupCache already stopped
2024-02-05T10:16:13.108Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:13.109Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:13.109Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:13.109Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:13.110Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:13.110Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:13.114Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:13.115Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:13.115Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:165
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:13.115Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicScheduler
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:165
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:13.115Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:13.115Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:13.115Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:13.116Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:13.117Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:13.117Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:13.118Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:13.118Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.singleleaf"}
2024-02-05T10:16:13.118Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:13.118Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:13.118Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:13.118Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:13.118Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:13.118Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:13.119Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:13.119Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:13.119Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:13.119Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:13.119Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:13.119Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:13.119Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:13.119Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:13.119Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:13.120Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:13.120Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:13.120Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:13.120Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:13.120Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:13.121Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:13.121Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:13.121Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.singleleaf"}
2024-02-05T10:16:13.121Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.singleleaf", "placed queue": "root.singleleaf"}
2024-02-05T10:16:13.130Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:13.130Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:2000]"}
2024-02-05T10:16:13.140Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:13.141Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.singleleaf"}
2024-02-05T10:16:13.141Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:13.142Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:13.142Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:13.243Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:13.244Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:13.244Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:13.647Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:100000000 vcore:10000]"}
2024-02-05T10:16:13.647Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-3", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:10000]"}
2024-02-05T10:16:13.658Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:13.658Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:50000000 vcore:5000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:13.760Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-1, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:13.760Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-1", "allocatedResource": "map[memory:50000000 vcore:5000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.264Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-2-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:14.265Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-2-0"}
2024-02-05T10:16:14.265Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-2-1", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:14.265Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-2:1234", "allocationId": "alloc-2-1"}
2024-02-05T10:16:14.266Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:14.266Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-0"}
2024-02-05T10:16:14.267Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-1", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:14.267Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-2:1234", "allocationId": "alloc-1-1"}
2024-02-05T10:16:14.275Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:14.275Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:200000000 vcore:10000]"}
2024-02-05T10:16:14.285Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:14.285Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:14.285Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:14.285Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:14.286Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:14.286Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:14.286Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.singleleaf"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.singleleaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:14.286Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:14.287Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.singleleaf", "applicationID": "app-1"}
2024-02-05T10:16:14.287Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:14.287Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Completing", "destination": "Completed", "event": "completeApplication"}
2024-02-05T10:16:14.287Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:14.287Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:14.288Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:14.289Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.289Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:14.289Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:14.289Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:14.290Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:14.290Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:14.290Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:14.290Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:14.292Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:14.292Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:14.292Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicSchedulerAutoAllocation
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:387
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:14.292Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicSchedulerAutoAllocation
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:387
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:14.292Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:14.292Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:14.292Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:14.292Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:14.292Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.292Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:14.292Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:14.292Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.singleleaf"}
2024-02-05T10:16:14.292Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:14.292Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:14.292Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:14.292Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:14.292Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:14.292Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:14.292Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:14.292Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:14.292Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:14.293Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:14.292Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:14.293Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:14.293Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.293Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:14.293Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.293Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.293Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:14.294Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.294Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:14.294Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:14.294Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:14.295Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:14.295Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.singleleaf"}
2024-02-05T10:16:14.295Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.singleleaf", "placed queue": "root.singleleaf"}
2024-02-05T10:16:14.304Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:14.304Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:14.304Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:14.305Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.singleleaf"}
2024-02-05T10:16:14.305Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:14.306Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.306Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.307Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:14.307Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.307Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.308Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.308Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.309Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.309Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.309Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.310Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.311Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.311Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.311Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.312Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-10, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.312Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-10", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.313Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-11, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.313Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-11", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.314Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-12, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.314Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-12", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.315Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-13, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.315Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-13", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.316Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-14, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.316Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-14", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.324Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:14.324Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:14.324Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:14.325Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:14.325Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:14.325Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:14.325Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.singleleaf"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.singleleaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:14.325Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:14.326Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:14.326Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:50000000 vcore:5000]"}
2024-02-05T10:16:14.326Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.singleleaf", "applicationID": "app-1"}
2024-02-05T10:16:14.327Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:14.327Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBasicSchedulerAutoAllocation
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:478
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:14.327Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:14.328Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:14.329Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.329Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:14.329Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:14.329Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:14.329Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:14.330Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:14.330Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:14.330Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:14.331Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:14.331Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:14.331Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:494
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:14.331Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:494
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:14.331Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:14.331Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:14.331Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:14.332Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:14.332Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:14.332Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:14.332Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:14.332Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf1"}
2024-02-05T10:16:14.332Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf2"}
2024-02-05T10:16:14.332Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:14.332Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:14.332Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:14.332Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:14.332Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:14.332Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:14.332Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:14.333Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:14.333Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:14.333Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:14.333Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:14.333Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:14.333Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:14.333Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:14.333Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:14.334Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:14.335Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:14.335Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf1"}
2024-02-05T10:16:14.335Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf1", "placed queue": "root.leaf1"}
2024-02-05T10:16:14.335Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:14.335Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-2", "queue": "root.leaf2"}
2024-02-05T10:16:14.335Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-2", "partitionName": "[rm:123]default", "requested queue": "root.leaf2", "placed queue": "root.leaf2"}
2024-02-05T10:16:14.344Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:14.344Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:14.345Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:14.345Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-2", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:14.354Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:14.354Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf1"}
2024-02-05T10:16:14.354Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:14.355Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.355Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.456Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-2", "queue path": "root.leaf2"}
2024-02-05T10:16:14.457Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:14.457Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.458Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.559Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:14.559Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.559Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.661Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:14.661Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-1, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.661Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.763Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-2, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.763Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:14.864Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:14.865Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:14.966Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-3, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:14.966Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:15.068Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:15.068Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:15.169Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:15.170Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:15.271Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-4, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:15.271Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:15.373Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:15.374Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:15.475Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-5, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:15.475Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:15.576Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:15.577Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:15.679Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-6, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:15.679Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:15.780Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:15.780Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:15.882Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-7, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:15.882Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:15.984Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:15.984Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:16.085Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-8, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:16.085Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:16.187Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:16.188Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:16.289Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf2", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-9, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:16.289Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:16.895Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:16.895Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:16.895Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:16.896Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:16.896Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:16.896Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:16.896Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf1"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:16.896Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf2"}
2024-02-05T10:16:16.897Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf2", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:16.897Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:16.897Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:16.897Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:100000000 vcore:10000]"}
2024-02-05T10:16:16.897Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf1", "applicationID": "app-1"}
2024-02-05T10:16:16.898Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:600
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:16.898Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:16.899Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-2", "ask": "", "pendingDelta": "map[memory:100000000 vcore:10000]"}
2024-02-05T10:16:16.899Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf2", "applicationID": "app-2"}
2024-02-05T10:16:16.899Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:16.899Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForQueues
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:600
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:16.900Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:16.900Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:16.900Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:16.900Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:16.900Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:16.901Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:16.901Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:16.901Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:16.901Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:16.901Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:16.901Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:16.901Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:16.901Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:16.902Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:16.902Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:16.903Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:16.903Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:16.905Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:16.905Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:16.905Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:617
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:16.905Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:617
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:16.905Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:16.906Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:16.906Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:16.906Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:16.907Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:16.907Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:16.907Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:16.907Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf"}
2024-02-05T10:16:16.908Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:16.908Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:16.908Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:16.908Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:16.908Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:16.908Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:16.908Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:16.908Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:16.908Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:16.908Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:16.908Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:16.908Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:16.908Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:16.909Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:16.909Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:16.909Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:16.909Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:16.909Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:16.909Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:16.910Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:16.910Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:16.910Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:16.910Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-2", "queue": "root.leaf"}
2024-02-05T10:16:16.910Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-2", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:16.911Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:16.911Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf"}
2024-02-05T10:16:16.911Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:16.919Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:16.920Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:16.920Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:16.920Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-2", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:16.930Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:16.930Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-2", "queue path": "root.leaf"}
2024-02-05T10:16:16.930Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:16.931Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:16.931Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:17.032Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf"}
2024-02-05T10:16:17.032Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:17.033Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:17.033Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:17.135Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:17.135Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-1, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:17.135Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:17.236Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:17.237Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:17.237Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:17.338Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-2, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:17.339Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:17.440Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:17.440Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:17.542Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-3, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:17.542Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:17.643Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:17.644Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:17.745Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-4, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:17.745Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:17.847Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:17.847Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:17.949Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-5, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:17.949Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:18.050Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:18.051Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:18.152Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:18.152Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:18.254Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-6, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:18.254Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:18.355Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-7, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:18.356Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:18.457Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:18.457Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:18.559Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-8, allocationKey=alloc-2, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:18.559Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:18.660Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:18.660Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:18.762Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:18.762Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:18.864Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-2", "allocation": "applicationID=app-2, allocationID=alloc-2-9, allocationKey=alloc-2, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:18.864Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-2", "allocationKey": "alloc-2", "allocationid": "alloc-2-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:19.469Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:19.469Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:19.469Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:19.469Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:19.469Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:19.469Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:19.469Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:19.469Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:19.470Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:19.471Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-2", "ask": "", "pendingDelta": "map[memory:100000000 vcore:10000]"}
2024-02-05T10:16:19.471Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-2"}
2024-02-05T10:16:19.471Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:725
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.472Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:19.472Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:100000000 vcore:10000]"}
2024-02-05T10:16:19.473Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-1"}
2024-02-05T10:16:19.473Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:19.473Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:725
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:19.474Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:19.475Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:19.475Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:19.475Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.475Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:19.475Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:19.475Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:19.476Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:19.476Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:19.476Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:19.476Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:19.479Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:19.479Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:19.479Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRejectApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:742
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.479Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRejectApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:742
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.480Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:19.480Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:19.480Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:19.480Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:19.481Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.482Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:19.482Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:19.482Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf"}
2024-02-05T10:16:19.482Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:19.482Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:19.482Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:19.482Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:19.482Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:19.483Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:19.483Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:19.483Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:19.483Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:19.483Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:19.483Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:19.483Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:19.483Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:19.483Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.483Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:19.484Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:19.484Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:19.494Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:19.494Z	WARN	core.metrics	metrics/queue.go:117	failed to register metrics collector	{"error": "a previously registered descriptor with the same fully-qualified name as Desc{fqName: \"yunikorn_queue_app\", help: \"Queue application metrics. State of the application includes `accepted`, `rejected`, `running`, `failed`, `completed`.\", constLabels: {}, variableLabels: [state]} has different label names or a different help string"}
github.com/apache/yunikorn-core/pkg/metrics.InitQueueMetrics
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/metrics/queue.go:117
github.com/apache/yunikorn-core/pkg/metrics.GetQueueMetrics
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/metrics/init.go:80
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAppState.func7
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application_state.go:201
github.com/looplab/fsm.(*FSM).enterStateCallbacks
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:470
github.com/looplab/fsm.(*FSM).Event.(*FSM).Event.func2.func3
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:363
github.com/looplab/fsm.transitionerStruct.transition
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:422
github.com/looplab/fsm.(*FSM).doTransition
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:407
github.com/looplab/fsm.(*FSM).Event
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:390
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).HandleApplicationEventWithInfo
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:295
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RejectApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1875
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).AddRejectedApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:1499
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateApplicationEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:530
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:135
2024-02-05T10:16:19.494Z	WARN	core.metrics	metrics/queue.go:117	failed to register metrics collector	{"error": "a previously registered descriptor with the same fully-qualified name as Desc{fqName: \"yunikorn_queue_resource\", help: \"Queue resource metrics. State of the resource includes `guaranteed`, `max`, `allocated`, `pending`, `preempting`.\", constLabels: {}, variableLabels: [state resource]} has different label names or a different help string"}
github.com/apache/yunikorn-core/pkg/metrics.InitQueueMetrics
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/metrics/queue.go:117
github.com/apache/yunikorn-core/pkg/metrics.GetQueueMetrics
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/metrics/init.go:80
github.com/apache/yunikorn-core/pkg/scheduler/objects.NewAppState.func7
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application_state.go:201
github.com/looplab/fsm.(*FSM).enterStateCallbacks
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:470
github.com/looplab/fsm.(*FSM).Event.(*FSM).Event.func2.func3
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:363
github.com/looplab/fsm.transitionerStruct.transition
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:422
github.com/looplab/fsm.(*FSM).doTransition
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:407
github.com/looplab/fsm.(*FSM).Event
	/home/chenyulin0719/go/pkg/mod/github.com/looplab/fsm@v1.0.1/fsm.go:390
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).HandleApplicationEventWithInfo
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:295
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RejectApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1875
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).AddRejectedApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:1499
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateApplicationEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:530
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:135
2024-02-05T10:16:19.494Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-reject-1", "source": "New", "destination": "Rejected", "event": "rejectApplication"}
2024-02-05T10:16:19.494Z	ERROR	core.scheduler.context	scheduler/context.go:531	Failed to add application to partition (placement rejected)	{"applicationID": "app-reject-1", "partitionName": "[rm:123]default", "error": "failed to place application app-reject-1: application rejected: no placement rule matched"}
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).handleRMUpdateApplicationEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:531
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).handleRMEvent
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:135
2024-02-05T10:16:19.504Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:19.504Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-added-2", "queue": "root.leaf"}
2024-02-05T10:16:19.504Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-added-2", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:19.514Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:19.514Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:19.515Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:19.515Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:19.515Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:19.515Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:19.515Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:19.515Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.515Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:19.515Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:19.515Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf"}
2024-02-05T10:16:19.516Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:19.516Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:19.516Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-added-2", "source": "New", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:19.516Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-added-2"}
2024-02-05T10:16:19.516Z	ERROR	core.scheduler.ugm	ugm/manager.go:118	user tracker must be available in userTrackers map	{"user": "testuser"}
github.com/apache/yunikorn-core/pkg/scheduler/ugm.(*Manager).DecreaseTrackedResource
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/ugm/manager.go:118
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).decUserResourceUsage
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1665
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1851
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRejectApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:784
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.516Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRejectApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:784
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.517Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:19.517Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.517Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.517Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:19.517Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:19.517Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.517Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:19.518Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:19.518Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:19.519Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:19.519Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:19.519Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:19.519Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:19.521Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:19.521Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:19.521Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:833
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.522Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:833
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:19.522Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:19.522Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:19.522Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:19.522Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:19.524Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:19.524Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:19.524Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:19.525Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.parent"}
2024-02-05T10:16:19.525Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.parent.child-1"}
2024-02-05T10:16:19.525Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.parent.child-2"}
2024-02-05T10:16:19.525Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:19.525Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:19.525Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:19.526Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:19.526Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:19.526Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:19.526Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:19.526Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:19.526Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:19.526Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:19.526Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:19.526Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:19.526Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:19.526Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:19.527Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:150000000 vcore:15000]"}
2024-02-05T10:16:19.527Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:150000000 vcore:15000]"}
2024-02-05T10:16:19.527Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:19.527Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:19.527Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.parent.child-1"}
2024-02-05T10:16:19.528Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.parent.child-1", "placed queue": "root.parent.child-1"}
2024-02-05T10:16:19.537Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:19.538Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:120000000 vcore:12000]"}
2024-02-05T10:16:19.547Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:19.547Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.parent.child-1"}
2024-02-05T10:16:19.548Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:19.548Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:19.549Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:19.650Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:19.651Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:19.651Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:19.753Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:19.753Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:19.854Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:19.855Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:19.956Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:19.956Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:20.058Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:20.058Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:20.160Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:20.160Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:20.261Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:20.262Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:20.363Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:20.364Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:20.465Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:20.466Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:21.575Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-5", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.575Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-5"}
2024-02-05T10:16:21.576Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-7", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.576Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-7"}
2024-02-05T10:16:21.576Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-8", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.577Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-8"}
2024-02-05T10:16:21.577Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-2", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.577Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-2"}
2024-02-05T10:16:21.577Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-9", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.578Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-9"}
2024-02-05T10:16:21.578Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-4", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.578Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-4"}
2024-02-05T10:16:21.578Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-6", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.578Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-6"}
2024-02-05T10:16:21.579Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-1", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.579Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-1"}
2024-02-05T10:16:21.579Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.579Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-0"}
2024-02-05T10:16:21.579Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-3", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:21.580Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-3"}
2024-02-05T10:16:21.586Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-10, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:21.587Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-10", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:21.688Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.parent.child-1", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-11, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:21.688Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-11", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.091Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:22.091Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:22.091Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:22.091Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:22.091Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:22.091Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:22.091Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:22.091Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.parent"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.parent", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.parent.child-1"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.parent.child-1", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.parent.child-2"}
2024-02-05T10:16:22.092Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.parent.child-2", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:22.093Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:22.093Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:22.093Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:22.094Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.parent.child-1", "applicationID": "app-1"}
2024-02-05T10:16:22.094Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:22.094Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:929
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:22.095Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:22.095Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:22.095Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:22.095Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:150000000 vcore:15000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:22.096Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:22.096Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:22.096Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:22.096Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:22.096Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:22.097Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:22.097Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:22.097Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:22.097Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:22.097Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:22.097Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:22.098Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:833
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:22.098Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:833
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:22.098Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:22.098Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:22.098Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:22.098Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:22.098Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:22.098Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:22.098Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:22.098Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.default"}
2024-02-05T10:16:22.098Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:22.098Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:22.099Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:22.099Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:22.099Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:22.099Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:22.099Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:22.099Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:22.099Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:22.099Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:22.099Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:22.099Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:22.100Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:22.100Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:22.100Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:150000000 vcore:15000]"}
2024-02-05T10:16:22.100Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:150000000 vcore:15000]"}
2024-02-05T10:16:22.100Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:22.101Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:22.101Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.default"}
2024-02-05T10:16:22.101Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.default", "placed queue": "root.default"}
2024-02-05T10:16:22.111Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:22.111Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:120000000 vcore:12000]"}
2024-02-05T10:16:22.120Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:22.121Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.default"}
2024-02-05T10:16:22.121Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:22.122Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.122Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.223Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:22.223Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.224Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.325Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.325Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.427Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.427Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.529Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.529Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.631Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.631Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.732Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.732Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.834Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.834Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:22.935Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:22.936Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:23.037Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:23.037Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:24.145Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-2", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.145Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-2"}
2024-02-05T10:16:24.146Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-8", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.146Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-8"}
2024-02-05T10:16:24.146Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-3", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.146Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-3"}
2024-02-05T10:16:24.147Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-5", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.147Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-5"}
2024-02-05T10:16:24.147Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-6", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.147Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-6"}
2024-02-05T10:16:24.148Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-7", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.148Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-7"}
2024-02-05T10:16:24.148Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.148Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-0"}
2024-02-05T10:16:24.148Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-4", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.149Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-4"}
2024-02-05T10:16:24.149Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-9", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.149Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-9"}
2024-02-05T10:16:24.149Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-1", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:24.150Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-1"}
2024-02-05T10:16:24.156Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-10, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:24.156Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-10", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:24.257Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.default", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-11, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:24.257Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-11", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:24.660Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:24.660Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:24.661Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:24.661Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:24.661Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:24.661Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:24.661Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:24.661Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.661Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:24.661Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:24.662Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.default"}
2024-02-05T10:16:24.662Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.default", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:24.662Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:24.662Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:24.663Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:24.663Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.default", "applicationID": "app-1"}
2024-02-05T10:16:24.663Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:24.663Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestSchedulingOverMaxCapacity.func1
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:929
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:24.664Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:24.664Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.664Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.664Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:150000000 vcore:15000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:24.664Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:24.664Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.664Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:24.665Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:24.665Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:24.666Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:24.666Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:24.666Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:24.666Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:24.669Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:24.669Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:24.669Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRMNodeActions
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:945
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:24.669Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestRMNodeActions
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:945
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:24.669Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:24.669Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:24.670Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:24.670Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:24.670Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.670Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:24.670Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:24.670Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:24.670Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:24.670Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:24.670Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:24.670Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:24.670Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:24.670Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:24.670Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:24.671Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:24.671Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:24.671Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:24.702Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:24.702Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:24.702Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.702Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.712Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:24.712Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:24.713Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:24.713Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:24.713Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:24.713Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:24.713Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.713Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:24.713Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:24.714Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:24.714Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:24.714Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:24.714Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:24.714Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:24.718Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:24.718Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:24.718Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBinPackingAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1067
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:24.718Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBinPackingAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1067
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:24.718Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:24.718Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:24.718Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:24.718Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:24.718Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:24.719Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:24.719Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:24.719Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:24.719Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:24.719Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:24.719Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:24.719Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "binpacking"}
2024-02-05T10:16:24.719Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:24.719Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:24.719Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:24.719Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:24.720Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:24.720Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf"}
2024-02-05T10:16:24.720Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:24.720Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:24.720Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-2", "queue": "root.leaf"}
2024-02-05T10:16:24.720Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-2", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:24.730Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:24.730Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:24.730Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:24.730Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-2", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:24.740Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:24.740Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf"}
2024-02-05T10:16:24.740Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:24.741Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:24.741Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:24.842Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:24.842Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:24.843Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:24.944Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:24.944Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.045Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.045Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.147Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.147Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.249Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.249Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.350Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.351Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.452Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.452Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.553Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.553Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.654Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:25.654Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:25.655Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:25.655Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:25.655Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:25.655Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:25.655Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:25.655Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:25.655Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:25.655Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:25.655Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf"}
2024-02-05T10:16:25.656Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:25.656Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:25.656Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:25.656Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:110000000 vcore:11000]"}
2024-02-05T10:16:25.657Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-1"}
2024-02-05T10:16:25.657Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:25.657Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBinPackingAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1170
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:25.658Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-2", "source": "Accepted", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:25.658Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-2", "ask": "", "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:25.659Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-2"}
2024-02-05T10:16:25.659Z	ERROR	core.scheduler.ugm	ugm/manager.go:118	user tracker must be available in userTrackers map	{"user": "testuser"}
github.com/apache/yunikorn-core/pkg/scheduler/ugm.(*Manager).DecreaseTrackedResource
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/ugm/manager.go:118
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).decUserResourceUsage
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1665
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1851
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBinPackingAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1170
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:25.659Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestBinPackingAllocationForApplications
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1170
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:25.659Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:25.659Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:25.659Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:25.660Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:25.661Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:25.661Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:25.661Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:25.661Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:25.662Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:25.662Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:25.662Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:25.662Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:25.668Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:25.668Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:25.668Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1185
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:25.668Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1185
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:25.668Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:25.668Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:25.668Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:25.668Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:25.668Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:25.668Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:25.669Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.leaf"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:25.669Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:25.669Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:25.669Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:25.669Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:25.669Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:25.669Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:25.669Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:25.669Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-0:1234"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-0:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-0:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:25.669Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:25.670Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:25.670Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.670Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:25.670Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:300000000 vcore:60000]"}
2024-02-05T10:16:25.670Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:300000000 vcore:60000]"}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-3:1234"}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:300000000 vcore:60000]", "new max": "map[memory:400000000 vcore:80000]"}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-3:1234", "partitionResource": "map[memory:400000000 vcore:80000]"}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-3:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-4:1234"}
2024-02-05T10:16:25.671Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:400000000 vcore:80000]", "new max": "map[memory:500000000 vcore:100000]"}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-4:1234", "partitionResource": "map[memory:500000000 vcore:100000]"}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-4:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-5:1234"}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:500000000 vcore:100000]", "new max": "map[memory:600000000 vcore:120000]"}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-5:1234", "partitionResource": "map[memory:600000000 vcore:120000]"}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-5:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.672Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-6:1234"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:600000000 vcore:120000]", "new max": "map[memory:700000000 vcore:140000]"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-6:1234", "partitionResource": "map[memory:700000000 vcore:140000]"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-6:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-7:1234"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:700000000 vcore:140000]", "new max": "map[memory:800000000 vcore:160000]"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-7:1234", "partitionResource": "map[memory:800000000 vcore:160000]"}
2024-02-05T10:16:25.673Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-7:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-8:1234"}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:800000000 vcore:160000]", "new max": "map[memory:900000000 vcore:180000]"}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-8:1234", "partitionResource": "map[memory:900000000 vcore:180000]"}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-8:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-9:1234"}
2024-02-05T10:16:25.674Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:900000000 vcore:180000]", "new max": "map[memory:1000000000 vcore:200000]"}
2024-02-05T10:16:25.675Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-9:1234", "partitionResource": "map[memory:1000000000 vcore:200000]"}
2024-02-05T10:16:25.675Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-9:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:25.675Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:25.675Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.leaf"}
2024-02-05T10:16:25.675Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.leaf", "placed queue": "root.leaf"}
2024-02-05T10:16:25.681Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:25.681Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:200000000 vcore:20000]"}
2024-02-05T10:16:25.691Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:25.691Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.leaf"}
2024-02-05T10:16:25.692Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:25.692Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-0:1234, result=Allocated"}
2024-02-05T10:16:25.692Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-0:1234"}
2024-02-05T10:16:25.793Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:25.794Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:25.794Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:25.895Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-2, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:25.896Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-2", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:25.997Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-3, allocationKey=alloc-1, Node=node-3:1234, result=Allocated"}
2024-02-05T10:16:25.997Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-3", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-3:1234"}
2024-02-05T10:16:26.099Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-4, allocationKey=alloc-1, Node=node-4:1234, result=Allocated"}
2024-02-05T10:16:26.099Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-4", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-4:1234"}
2024-02-05T10:16:26.201Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-5, allocationKey=alloc-1, Node=node-5:1234, result=Allocated"}
2024-02-05T10:16:26.201Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-5", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-5:1234"}
2024-02-05T10:16:26.302Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-6, allocationKey=alloc-1, Node=node-6:1234, result=Allocated"}
2024-02-05T10:16:26.303Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-6", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-6:1234"}
2024-02-05T10:16:26.404Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-7, allocationKey=alloc-1, Node=node-7:1234, result=Allocated"}
2024-02-05T10:16:26.404Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-7", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-7:1234"}
2024-02-05T10:16:26.506Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-8, allocationKey=alloc-1, Node=node-8:1234, result=Allocated"}
2024-02-05T10:16:26.506Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-8", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-8:1234"}
2024-02-05T10:16:26.607Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-9, allocationKey=alloc-1, Node=node-9:1234, result=Allocated"}
2024-02-05T10:16:26.608Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-9", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-9:1234"}
2024-02-05T10:16:26.709Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-10, allocationKey=alloc-1, Node=node-0:1234, result=Allocated"}
2024-02-05T10:16:26.709Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-10", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-0:1234"}
2024-02-05T10:16:26.811Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-11, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:26.811Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-11", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:26.912Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-12, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:26.912Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-12", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:27.013Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-13, allocationKey=alloc-1, Node=node-3:1234, result=Allocated"}
2024-02-05T10:16:27.014Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-13", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-3:1234"}
2024-02-05T10:16:27.115Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-14, allocationKey=alloc-1, Node=node-4:1234, result=Allocated"}
2024-02-05T10:16:27.116Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-14", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-4:1234"}
2024-02-05T10:16:27.217Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-15, allocationKey=alloc-1, Node=node-5:1234, result=Allocated"}
2024-02-05T10:16:27.217Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-15", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-5:1234"}
2024-02-05T10:16:27.318Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-16, allocationKey=alloc-1, Node=node-6:1234, result=Allocated"}
2024-02-05T10:16:27.318Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-16", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-6:1234"}
2024-02-05T10:16:27.419Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-17, allocationKey=alloc-1, Node=node-7:1234, result=Allocated"}
2024-02-05T10:16:27.420Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-17", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-7:1234"}
2024-02-05T10:16:27.521Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-18, allocationKey=alloc-1, Node=node-8:1234, result=Allocated"}
2024-02-05T10:16:27.521Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-18", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-8:1234"}
2024-02-05T10:16:27.622Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.leaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-19, allocationKey=alloc-1, Node=node-9:1234, result=Allocated"}
2024-02-05T10:16:27.623Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-19", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-9:1234"}
2024-02-05T10:16:27.724Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:27.724Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:27.724Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:27.725Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:27.725Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:27.725Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:27.725Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:27.725Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:27.725Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:27.725Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:27.725Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.leaf"}
2024-02-05T10:16:27.725Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.leaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:27.726Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:27.726Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:27.726Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:27.726Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.leaf", "applicationID": "app-1"}
2024-02-05T10:16:27.727Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:27.727Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestFairnessAllocationForNodes
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1272
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:27.728Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 10, "partitionName": "[rm:123]default"}
2024-02-05T10:16:27.728Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:27.728Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:27.728Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:1000000000 vcore:200000]", "new max": "map[memory:900000000 vcore:180000]"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:900000000 vcore:180000]"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-3:1234"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-3:1234"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:900000000 vcore:180000]", "new max": "map[memory:800000000 vcore:160000]"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-3:1234", "partitionResource": "map[memory:800000000 vcore:160000]"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-4:1234"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-4:1234"}
2024-02-05T10:16:27.729Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:800000000 vcore:160000]", "new max": "map[memory:700000000 vcore:140000]"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-4:1234", "partitionResource": "map[memory:700000000 vcore:140000]"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-5:1234"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-5:1234"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:700000000 vcore:140000]", "new max": "map[memory:600000000 vcore:120000]"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-5:1234", "partitionResource": "map[memory:600000000 vcore:120000]"}
2024-02-05T10:16:27.730Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-6:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-6:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:600000000 vcore:120000]", "new max": "map[memory:500000000 vcore:100000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-6:1234", "partitionResource": "map[memory:500000000 vcore:100000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-9:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-9:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:500000000 vcore:100000]", "new max": "map[memory:400000000 vcore:80000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-9:1234", "partitionResource": "map[memory:400000000 vcore:80000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-0:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-0:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:400000000 vcore:80000]", "new max": "map[memory:300000000 vcore:60000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-0:1234", "partitionResource": "map[memory:300000000 vcore:60000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:300000000 vcore:60000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-7:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-7:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-7:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-8:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-8:1234"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-8:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:27.731Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:27.731Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:27.731Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:27.731Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:27.732Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:27.732Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:27.732Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:27.732Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:27.734Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:27.734Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:27.734Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestDupReleasesInGangScheduling
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1286
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:27.734Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestDupReleasesInGangScheduling
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1286
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:27.734Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:27.734Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:27.734Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:27.735Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:27.735Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:27.735Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:27.735Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root.singleleaf"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:27.735Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:27.735Z	INFO	core.config	placement/placement.go:90	Placement manager configured without rules: using implicit provided rule
2024-02-05T10:16:27.735Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:27.735Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:27.735Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:27.735Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:27.735Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:27.735Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:27.735Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:27.736Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:27.736Z	INFO	core.config	placement/provided_rule.go:111	Provided rule application placed	{"application": "app-1", "queue": "root.singleleaf"}
2024-02-05T10:16:27.736Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "root.singleleaf", "placed queue": "root.singleleaf"}
2024-02-05T10:16:27.746Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:27.746Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": true, "pendingDelta": "map[memory:10000000 vcore:1000]"}
2024-02-05T10:16:27.846Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:27.846Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.singleleaf"}
2024-02-05T10:16:27.847Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:27.847Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": true, "targetNode": "node-1:1234"}
2024-02-05T10:16:28.249Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-2", "placeholder": false, "pendingDelta": "map[memory:10000000 vcore:1000]"}
2024-02-05T10:16:28.350Z	INFO	core.scheduler.queue	objects/queue.go:1399	allocation found on queue	{"queueName": "root.singleleaf", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-2-0, allocationKey=alloc-2, Node=node-1:1234, result=Replaced"}
2024-02-05T10:16:28.350Z	INFO	core.scheduler.partition	scheduler/partition.go:867	scheduler replace placeholder processed	{"appID": "app-1", "allocationKey": "alloc-2", "allocationid": "alloc-2-0", "placeholder released allocationid": "alloc-1-0"}
2024-02-05T10:16:29.255Z	INFO	core.scheduler.partition	scheduler/partition.go:1293	replacing placeholder allocation	{"appID": "app-1", "allocationId": "alloc-1-0"}
2024-02-05T10:16:29.256Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:29.256Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:29.256Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Completing", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:29.256Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:29.257Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.singleleaf"}
2024-02-05T10:16:29.257Z	INFO	core.scheduler.partition	scheduler/partition.go:1359	replacing placeholder allocation on node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-0", "allocation nodeID": "node-1:1234"}
2024-02-05T10:16:29.759Z	INFO	core.scheduler.partition	scheduler/partition.go:1293	replacing placeholder allocation	{"appID": "app-1", "allocationId": "alloc-1-0"}
2024-02-05T10:16:30.261Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:30.262Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:30.262Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:30.262Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:30.262Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:30.262Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:30.262Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:30.262Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:30.262Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root.singleleaf"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root.singleleaf", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 1, "partitionName": "[rm:123]default"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Failing", "event": "failApplication"}
2024-02-05T10:16:30.263Z	INFO	core.scheduler.application	objects/application.go:612	ask removed successfully from application	{"appID": "app-1", "ask": "", "pendingDelta": "map[memory:0 vcore:0]"}
2024-02-05T10:16:30.264Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.singleleaf", "applicationID": "app-1"}
2024-02-05T10:16:30.264Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:30.264Z	WARN	core.scheduler.application	objects/application.go:1860	Application state not changed to Waiting while removing all allocations	{"currentState": "Failing", "error": "event completeApplication inappropriate in current state Failing"}
github.com/apache/yunikorn-core/pkg/scheduler/objects.(*Application).RemoveAllAllocations
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/objects/application.go:1860
github.com/apache/yunikorn-core/pkg/scheduler.(*PartitionContext).removeApplication
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition.go:388
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).remove
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:156
github.com/apache/yunikorn-core/pkg/scheduler.(*partitionManager).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/partition_manager.go:97
github.com/apache/yunikorn-core/pkg/scheduler.(*ClusterContext).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/context.go:991
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:228
github.com/apache/yunikorn-core/pkg/entrypoint.(*ServiceContext).StopAll
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/service_context.go:50
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Stop
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:91
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestDupReleasesInGangScheduling
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1452
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:30.264Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:30.264Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:30.264Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:30.265Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:30.266Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:30.266Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:30.266Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
2024-02-05T10:16:30.267Z	INFO	core.entrypoint	entrypoint/entrypoint.go:53	ServiceContext start all services
2024-02-05T10:16:30.267Z	INFO	core.entrypoint	entrypoint/entrypoint.go:79	Starting event system
2024-02-05T10:16:30.267Z	INFO	core.events	events/event_publisher.go:49	Starting shim event publisher
2024-02-05T10:16:30.267Z	INFO	core.events	events/event_system.go:181	Starting event system handler
2024-02-05T10:16:30.281Z	INFO	core.entrypoint	entrypoint/entrypoint.go:91	ServiceContext start scheduling services
2024-02-05T10:16:30.281Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:43	Starting node resource monitor
2024-02-05T10:16:30.282Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestDynamicQueueCleanUp
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1472
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:30.282Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:96
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).Start
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:91
github.com/apache/yunikorn-core/pkg/scheduler.(*Scheduler).StartService
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/scheduler.go:68
github.com/apache/yunikorn-core/pkg/entrypoint.startAllServicesWithParameters
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:92
github.com/apache/yunikorn-core/pkg/entrypoint.StartAllServicesWithParams
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/entrypoint/entrypoint.go:54
github.com/apache/yunikorn-core/pkg/scheduler/tests.(*mockScheduler).Init
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/mockscheduler_test.go:57
github.com/apache/yunikorn-core/pkg/scheduler/tests.TestDynamicQueueCleanUp
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/tests/smoke_test.go:1472
testing.tRunner
	/usr/local/go/src/testing/testing.go:1595
2024-02-05T10:16:30.282Z	INFO	core.scheduler.health	scheduler/health_checker.go:113	Starting periodic health checker	{"interval": "30s"}
2024-02-05T10:16:30.282Z	INFO	core.entrypoint	entrypoint/entrypoint.go:102	creating InternalMetricsHistory
2024-02-05T10:16:30.282Z	INFO	core.rest	webservice/streaming_limit.go:54	Reloading streaming limit settings
2024-02-05T10:16:30.282Z	INFO	core.metrics	metrics/metrics_collector.go:60	Starting internal metrics collector
2024-02-05T10:16:30.282Z	INFO	core.scheduler.context	scheduler/context.go:380	added partitions	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:30.282Z	INFO	core.security	security/acl.go:58	user list is wildcard, allowing all access
2024-02-05T10:16:30.282Z	INFO	core.scheduler.queue	objects/queue.go:144	configured queue added to scheduler	{"queueName": "root"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:123	root queue added	{"partitionName": "[rm:123]default", "rmID": "rm:123"}
2024-02-05T10:16:30.282Z	INFO	core.config	placement/placement.go:64	Building new rule list for placement manager
2024-02-05T10:16:30.282Z	INFO	core.config	placement/placement.go:73	Activated rule set in placement manager
2024-02-05T10:16:30.282Z	INFO	core.security	security/usergroup.go:83	creating UserGroupCache without resolver
2024-02-05T10:16:30.282Z	INFO	core.security	security/usergroup.go:87	starting UserGroupCache cleaner	{"cleanerInterval": "1m0s"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:150	NodeSorting policy set from config	{"policyName": "fair"}
2024-02-05T10:16:30.282Z	INFO	core.rmproxy	plugins/plugins.go:38	register scheduler plugin: ResourceManagerCallback
2024-02-05T10:16:30.282Z	INFO	core.rmproxy	plugins/plugins.go:42	register scheduler plugin: StateDumpPlugin
2024-02-05T10:16:30.282Z	INFO	core.security	security/usergroup.go:97	Starting user/group cache cleaner
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:63	starting partition manager	{"partition": "[rm:123]default", "cleanRootInterval": "10s"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:71	Starting partition queue cleaner
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:173	Starting partition expired apps cleaner
2024-02-05T10:16:30.282Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "nil resource", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-1:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:546	adding node to partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.partition	scheduler/partition.go:611	Updated available resources from added node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:200000000 vcore:40000]"}
2024-02-05T10:16:30.282Z	INFO	core.scheduler.context	scheduler/context.go:629	successfully added node	{"nodeID": "node-2:1234", "partition": "[rm:123]default", "schedulable": true}
2024-02-05T10:16:30.283Z	INFO	core.scheduler.application	objects/application.go:178	Unknown gang scheduling style, using soft style as default	{"gang scheduling style": ""}
2024-02-05T10:16:30.283Z	INFO	core.config	placement/fixed_rule.go:118	Fixed rule application placed	{"application": "app-1", "queue": "root.cleanup_test"}
2024-02-05T10:16:30.283Z	INFO	core.scheduler.queue	objects/queue.go:202	dynamic queue added to scheduler	{"queueName": "root.cleanup_test"}
2024-02-05T10:16:30.283Z	INFO	core.scheduler.context	scheduler/context.go:540	Added application to partition	{"applicationID": "app-1", "partitionName": "[rm:123]default", "requested queue": "", "placed queue": "root.cleanup_test"}
2024-02-05T10:16:30.293Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "New", "destination": "Accepted", "event": "runApplication"}
2024-02-05T10:16:30.293Z	INFO	core.scheduler.application	objects/application.go:668	ask added successfully to application	{"appID": "app-1", "user": "testuser", "ask": "alloc-1", "placeholder": false, "pendingDelta": "map[memory:20000000 vcore:2000]"}
2024-02-05T10:16:30.303Z	INFO	core.scheduler.ugm	ugm/manager.go:613	User tracker doesn't exists. Creating user tracker.	{"user": "testuser"}
2024-02-05T10:16:30.304Z	INFO	core.scheduler.ugm	ugm/manager.go:231	Group tracker set for user application	{"appGroup": "", "user": "testuser", "application": "app-1", "queue path": "root.cleanup_test"}
2024-02-05T10:16:30.304Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Accepted", "destination": "Starting", "event": "runApplication"}
2024-02-05T10:16:30.305Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.cleanup_test", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-0, allocationKey=alloc-1, Node=node-1:1234, result=Allocated"}
2024-02-05T10:16:30.305Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-0", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-1:1234"}
2024-02-05T10:16:30.406Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Starting", "destination": "Running", "event": "runApplication"}
2024-02-05T10:16:30.407Z	INFO	core.scheduler.queue	objects/queue.go:1363	allocation found on queue	{"queueName": "root.cleanup_test", "appID": "app-1", "allocation": "applicationID=app-1, allocationID=alloc-1-1, allocationKey=alloc-1, Node=node-2:1234, result=Allocated"}
2024-02-05T10:16:30.407Z	INFO	core.scheduler.partition	scheduler/partition.go:931	scheduler allocation processed	{"appID": "app-1", "allocationKey": "alloc-1", "allocationid": "alloc-1-1", "allocatedResource": "map[memory:10000000 vcore:1000]", "placeholder": false, "targetNode": "node-2:1234"}
2024-02-05T10:16:30.809Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-0", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:30.809Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-1:1234", "allocationId": "alloc-1-0"}
2024-02-05T10:16:30.810Z	INFO	core.scheduler.partition	scheduler/partition.go:1300	removing allocation from application	{"appID": "app-1", "allocationId": "alloc-1-1", "terminationType": "UNKNOWN_TERMINATION_TYPE"}
2024-02-05T10:16:30.810Z	INFO	core.scheduler.ugm	ugm/manager.go:136	Removing user from manager	{"user": "testuser"}
2024-02-05T10:16:30.810Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Running", "destination": "Completing", "event": "completeApplication"}
2024-02-05T10:16:30.810Z	INFO	core.scheduler.partition	scheduler/partition.go:1366	removing allocation from node	{"nodeID": "node-2:1234", "allocationId": "alloc-1-1"}
2024-02-05T10:16:30.911Z	INFO	core.scheduler.fsm	objects/application_state.go:148	Application state transition	{"appID": "app-1", "source": "Completing", "destination": "Completed", "event": "completeApplication"}
2024-02-05T10:16:30.911Z	INFO	core.scheduler.queue	objects/queue.go:837	Application completed and removed from queue	{"queueName": "root.cleanup_test", "applicationID": "app-1"}
2024-02-05T10:16:30.911Z	INFO	core.scheduler.partition	scheduler/partition.go:1487	Removing terminated application from the application list	{"appID": "app-1", "app status": "Completed"}
2024-02-05T10:16:30.912Z	INFO	core.scheduler.application.usage	objects/application_summary.go:60	YK_APP_SUMMARY: {ApplicationID: app-1, SubmissionTime: 1707128190283, StartTime: 1707128190304, FinishTime: 1707128190911, User: testuser, Queue: root.cleanup_test, State: Completed, RmID: rm:123, ResourceUsage: TrackedResource{UNKNOWN:memory=0,UNKNOWN:vcore=0}, PreemptedResource: TrackedResource{}, PlaceholderResource: TrackedResource{}}
2024-02-05T10:16:35.075Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal.func2
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:123
2024-02-05T10:16:35.075Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal.func2
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:123
2024-02-05T10:16:35.102Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Scheduling errors", "description": "Check for scheduling error entries in metrics", "message": "There were 1 scheduling errors logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal.func2
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:123
2024-02-05T10:16:35.102Z	WARN	core.scheduler.health	scheduler/health_checker.go:178	Scheduler is not healthy	{"name": "Failed nodes", "description": "Check for failed nodes entries in metrics", "message": "There were 1 failed nodes logged in the metrics"}
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).runOnce
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:178
github.com/apache/yunikorn-core/pkg/scheduler.(*HealthChecker).startInternal.func2
	/home/chenyulin0719/yunikorn/yunikorn-core/pkg/scheduler/health_checker.go:123
2024-02-05T10:16:40.283Z	INFO	core.scheduler.queue	objects/queue.go:990	removing queue	{"queue": "root.cleanup_test"}
2024-02-05T10:16:40.284Z	INFO	core.entrypoint	entrypoint/service_context.go:40	ServiceContext stop all services
2024-02-05T10:16:40.284Z	INFO	core.metrics	metrics/metrics_collector.go:98	Stopping internal metrics collector
2024-02-05T10:16:40.284Z	INFO	core.scheduler	scheduler/scheduler.go:225	Stopping scheduler & background services
2024-02-05T10:16:40.284Z	INFO	core.scheduler.health	scheduler/health_checker.go:143	Stopping periodic health checker
2024-02-05T10:16:40.284Z	INFO	core.scheduler.nodesusage	scheduler/nodes_usage_monitor.go:72	Stopping node resource usage monitor
2024-02-05T10:16:40.285Z	INFO	core.scheduler.context	scheduler/context.go:989	Stopping background services of partitions
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:93	Stopping partition manager	{"partition": "[rm:123]default"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:144	marking all queues for removal	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.queue	objects/queue.go:952	marking managed queue for deletion	{"queue": "root"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.fsm	objects/object_state.go:81	object transition	{"object": "root", "source": "Active", "destination": "Draining", "event": "Remove"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:150	removing all applications from partition	{"numOfApps": 0, "partitionName": "[rm:123]default"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:160	removing all nodes from partition	{"numOfNodes": 2, "partitionName": "[rm:123]default"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234"}
2024-02-05T10:16:40.285Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:200000000 vcore:40000]", "new max": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-1:1234", "partitionResource": "map[memory:100000000 vcore:20000]"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.partition	scheduler/partition.go:660	Removing node from partition	{"partition": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.partition	scheduler/partition.go:634	Removed node from available partition nodes	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.queue	objects/queue.go:1290	updating root queue max resources	{"current max": "map[memory:100000000 vcore:20000]", "new max": "map[memory:0 vcore:0]"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.partition	scheduler/partition.go:648	Updated available resources from removed node	{"partitionName": "[rm:123]default", "nodeID": "node-2:1234", "partitionResource": "map[memory:0 vcore:0]"}
2024-02-05T10:16:40.286Z	INFO	core.scheduler.partition	scheduler/partition_manager.go:166	removing partition	{"partitionName": "[rm:123]default"}
2024-02-05T10:16:40.287Z	INFO	core.security	security/usergroup.go:226	Stopping UserGroupCache background cleanup
2024-02-05T10:16:40.287Z	INFO	core.rmproxy	rmproxy/rmproxy.go:401	Stopping RMProxy
2024-02-05T10:16:40.287Z	INFO	core.events	events/event_publisher.go:69	Stopping shim event publisher
FAIL
coverage: [no statements]
FAIL	github.com/apache/yunikorn-core/pkg/scheduler/tests	40.838s
ok  	github.com/apache/yunikorn-core/pkg/scheduler/ugm	1.039s	coverage: 92.2% of statements
ok  	github.com/apache/yunikorn-core/pkg/trace	1.025s	coverage: 94.4% of statements
ok  	github.com/apache/yunikorn-core/pkg/webservice	2.285s	coverage: 86.7% of statements
FAIL
